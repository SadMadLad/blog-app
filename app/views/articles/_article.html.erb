<div class="card my-1">
  <div class="card-body">
    <h3 class="card-title"><%= article.title %></h3>
    <h5 class="card-text">Created by: <%= article.user.full_name %></h5>
    <p class="card-text"><small class="text-muted">Created on: <%= article.updated_at.strftime("%d %B, %Y") %></small></p>
    <% if user_signed_in? %>
        <div class="container py-2">
            <%= link_to "Edit", "#", class: "btn btn-primary mx-1" %>
            <%= link_to "Delete", article_path(article), data: {
                turbo_method: :delete,
                turbo_confirm: "Are you sure?"
            }, class: "btn btn-primary mx-1" %>
            <% like = current_user.likes.find_by(likeable: article )%>
              <% if like %>
                <%= link_to '<i class="bi bi-star-fill"></i>'.html_safe, like_path(like), :method => :delete %>
              <% else %>
                <%= form_with(model: Like.new, method: :post, class: "d-inline") do |form|%>
                  <%= form.hidden_field :likeable_id, value: article.id %>
                  <%= form.hidden_field :likeable_type, value: "Article" %>
                  <%= button_tag type: 'submit', class: "p-0 m-0 border-0 bg-white" do %>
                    <i class="bi bi-star"></i>
                  <% end %> <%# Icon end %>
              <% end %> <%# Form end %>
            <% end %> <%# like-if end %>
        </div>
    <% end %> <%# user_signed_in? end %>
    <% n_likes = article.likes.count() %>
    <span class="bg-info p-1 mx-2"><%= n_likes %> <%= "like" if n_likes==1 %> <%= "likes" if n_likes != 1%> </span>
  </div>
</div>